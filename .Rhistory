#######################
#R as simple calculator
#######################
6/2
log(12)
exp(log(12))
7%%2
6%%2
######################
# Creating scalar
######################
a=2
b=3
d=a+b
d
a*b
a=a+5  #adds 5 to the old value of "a" and saves it again under the name "a". Old value=2, New value = 7
a
x=c(3,6,8)   #defines a vector of length 3 and saves it under "x"
x+2          #adds 2 with each element of vector "x"
x^3          #raises the power of each element to 3
y=c(x,10)
x
y
length(y)    #gives the length/number of elements of the vector
x[1]        # prints the first element of the vector
y[4]
y[2]
x[1:2]      # prints the first two elements of x
x[2:3]      # prints the 2nd and 3rd element of x
x[1:3]
y[1:4]
x[-1]       # prints all the elements of x EXCEPT the first one
#Question
x[length(x)]   #
x[2]
x[-c(1,3)]     #Same as x[2]
x=rep(5,3)      # defines a vector of size 3 with 5 at each position (rep stands for repeat)
x=rep(5,3)      # defines a vector of size 3 with 5 at each position (rep stands for repeat)
x
x
x=seq(1,10,by=2)    #sequence going from 1 to 10 but increasing by 2.
x
x=seq(1,10,by=-2)    #sequence going from 1 to 10 but increasing by 2.
x
sum(x)    #adds all the elements of vector x
expand.grid( c(21:25), c(21:25), c(21:25) )
sample_4m_normal=function(x){
s=rchisq(5,2)
return(mean(s))
}
Plot (density(rchisq(100000,2)))
sample_4m_normal=function(x){
s=rchisq(5,2)
return(mean(s))
}
plot(density(rchisq(100000,2)))
sample_4m_normal=function(x){
s=rchisq(30,2)
return(mean(s))
}
plot(density(rchisq(100000,2)))
sample_4m_normal=function(x){
s=rchisq(5,50)
return(mean(s))
}
plot(density(rchisq(100000,50)))
sample_4m_normal=function(x){
s=runif(2,0,1)
return(mean(s))
}
plot(density(runif(100000,0,1)))
sample_4m_normal=function(x){
s=runif(5,0,1)
return(mean(s))
}
plot(density(runif(100000,0,1)))
sample_4m_normal=function(x){
s=runif(5,0,1)
return(mean(s))
R[qnorm(.995)]
R[qnorm(.975)]
qnorm(.975)
qnorm(.995)
qnorm(0.975)
qnorm(0.995)
qnorm(0.99)
qnorm(0.0301)
pt(0.975,999)
pt(0.975,1.850)
pt(0.995,4)
pt(0.005,4)
# Only change this following line, remove 261 and put your student id
student_id=1001462062
# do not change anything below
set.seed(student_id)
Group1=round(rnorm(15,mean=10,sd=4),2)
Group2=round(rnorm(12,mean=7,sd=4),2)
Group1
Group2
mean(Group1)
mean(Group2)
x=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)
y=c(6.82,7.96,12.07,8.16,15.57,11.02,13.15,12.87,11.60,11.66,12.13,4.24,19.44,15.54,5.65,7.61,13.22,7.16,9.90,8.66,4.13,5.68,7.32,0.05,6.48,8.54,5.49)
y_pred = 0.5139+8.824*x
S2 = sum((y-y_pred)^2)/8
SE_B2 = sqrt(S2/sum((x-mean(x))^2))
SE_B2
x=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16)
y=c(6.82,7.96,12.07,8.16,15.57,11.02,13.15,12.87,11.60,11.66,12.13,4.24,19.44,15.54,5.65,7.61,13.22,7.16,9.90,8.66,4.13,5.68,7.32,0.05,6.48,8.54,5.49)
y_pred = 0.5139+8.824*x
S2 = sum((y-y_pred)^2)/25
SE_B2 = sqrt(S2/sum((x-mean(x))^2))
SE_B2
x=c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27)
y=c(6.82,7.96,12.07,8.16,15.57,11.02,13.15,12.87,11.60,11.66,12.13,4.24,19.44,15.54,5.65,7.61,13.22,7.16,9.90,8.66,4.13,5.68,7.32,0.05,6.48,8.54,5.49)
y_pred = 0.5139+8.824*x
S2 = sum((y-y_pred)^2)/25
SE_B2 = sqrt(S2/sum((x-mean(x))^2))
SE_B2
x=c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1)
y=c(6.82,7.96,12.07,8.16,15.57,11.02,13.15,12.87,11.60,11.66,12.13,4.24,19.44,15.54,5.65,7.61,13.22,7.16,9.90,8.66,4.13,5.68,7.32,0.05,6.48,8.54,5.49)
y_pred = 13.5098-4.172*x
S2 = sum((y-y_pred)^2)/25
SE_B2 = sqrt(S2/sum((x-mean(x))^2))
SE_B2
S2
plot(y_pred)
# Only change this following line, remove 261 and put your student id
student_id=255
# do not change anything below
set.seed(student_id)
Group1= round(rnorm(15,mean=10,sd=4),2)
Group2= round(rnorm(12,mean=7,sd=4),2)
x= round(rnorm(15,mean=18,sd=4),2)
y= round(50+1.5*x+rnorm(15, mean=0, sd=5),2)
x
y
x=c(a)
y=c(b)
y_pred = 71.1186-1.98602*x
S2 = sum((y-y_pred)^2)/13
SE_B2 = sqrt(S2/sum((x-mean(x))^2))
SE_B2
S2
x
library(tidyverse)
library(gtsummary)
library(cowplot)
library(knitr)
library(bookdown)
library(tidyverse)
library(gtsummary)
library(cowplot)
library(knitr)
library(bookdown)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
cchs %>% ggplot(aes(Age, fill = Age)) +
geom_bar() +
labs(title = "Figure 1: Distribution of Age Groups",
x = "Age Group", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs %>% ggplot(aes(Sex, fill = Sex)) +
geom_bar() +
labs(title = "Figure 2: Distribution of Sex",
x = "Sex", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_stress <- cchs %>%
filter(!is.na(Perceived_life_stress))
cchs_stress %>% ggplot(aes(Perceived_life_stress, fill = Perceived_life_stress)) +
geom_bar() +
labs(title = "Figure 3: Perceived Life Stress",
x = "Stress Level", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
theme(axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
plot.title = element_text(size=12)) +
scale_fill_grey()
cchs_weight <- cchs %>%
filter(!is.na(Self_perceived_weight))
cchs_weight %>% ggplot(aes(Self_perceived_weight, fill = Self_perceived_weight)) +
geom_bar() +
labs(title = "Figure 4: Self Perceived Weight",
x = "Weight Category", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_drug <- cchs %>%
filter(!is.na(Illicit_drug_use_12mon))
cchs_weight %>% ggplot(aes(Illicit_drug_use_12mon, fill = Illicit_drug_use_12mon)) +
geom_bar() +
labs(title = "Figure 5: Drug Use (Last 12 Months)",
x = "Drug Use", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_phys <- cchs %>%
filter(!is.na(Weekly_Days_Physically_Active))
cchs_phys %>% ggplot(aes(Weekly_Days_Physically_Active, fill = Weekly_Days_Physically_Active)) +
geom_bar() +
labs(title = "Figure 6: Weekly Days Physically Active",
x = "Active Days in a Week", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Perceived_life_stress + Self_perceived_weight + Illicit_drug_use_12mon + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
# visualize the model in a table
logit_summary <- broom::tidy(cchs_logit, conf.int = T)
kable(logit_summary)
# get summary and plot coefficients with error bars
logit_summary %>% ggplot(aes(term, estimate)) + geom_point() +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = .5, colour = "black") +
geom_hline(aes(yintercept = 0), color = "black", linetype = "dashed") +
coord_flip() +
labs(title = "Figure 8: Distribution of Estimation of Coefficients",
subtitle = "Bars represent estimated error",
y = "Weight",
x = "Estimate",
caption = "Source: CCHS 2017-2018 Data") +
theme_classic()
# plot more detailed regression table, including Odds Ratios
gtsummary::tbl_regression(cchs_logit, intercept = T)
install.packages("tinytex")
install.packages("tinytex")
install.packages("tinytex")
library(tinytex)
install.packages("xfun")
install.packages("xfun")
library(xfun)
library(tinytex)
library(xfun)
library(tidyverse)
library(gtsummary)
library(cowplot)
library(knitr)
library(bookdown)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
cchs %>% ggplot(aes(Age, fill = Age)) +
geom_bar() +
labs(title = "Figure 1: Distribution of Age Groups",
x = "Age Group", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs %>% ggplot(aes(Sex, fill = Sex)) +
geom_bar() +
labs(title = "Figure 2: Distribution of Sex",
x = "Sex", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_stress <- cchs %>%
filter(!is.na(Perceived_life_stress))
cchs_stress %>% ggplot(aes(Perceived_life_stress, fill = Perceived_life_stress)) +
geom_bar() +
labs(title = "Figure 3: Perceived Life Stress",
x = "Stress Level", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
theme(axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
plot.title = element_text(size=12)) +
scale_fill_grey()
cchs_weight <- cchs %>%
filter(!is.na(Self_perceived_weight))
cchs_weight %>% ggplot(aes(Self_perceived_weight, fill = Self_perceived_weight)) +
geom_bar() +
labs(title = "Figure 4: Self Perceived Weight",
x = "Weight Category", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_drug <- cchs %>%
filter(!is.na(Illicit_drug_use_12mon))
cchs_weight %>% ggplot(aes(Illicit_drug_use_12mon, fill = Illicit_drug_use_12mon)) +
geom_bar() +
labs(title = "Figure 5: Drug Use (Last 12 Months)",
x = "Drug Use", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_phys <- cchs %>%
filter(!is.na(Weekly_Days_Physically_Active))
cchs_phys %>% ggplot(aes(Weekly_Days_Physically_Active, fill = Weekly_Days_Physically_Active)) +
geom_bar() +
labs(title = "Figure 6: Weekly Days Physically Active",
x = "Active Days in a Week", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Perceived_life_stress + Self_perceived_weight + Illicit_drug_use_12mon + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
# visualize the model in a table
logit_summary <- broom::tidy(cchs_logit, conf.int = T)
kable(logit_summary)
# get summary and plot coefficients with error bars
logit_summary %>% ggplot(aes(term, estimate)) + geom_point() +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = .5, colour = "black") +
geom_hline(aes(yintercept = 0), color = "black", linetype = "dashed") +
coord_flip() +
labs(title = "Figure 8: Distribution of Estimation of Coefficients",
subtitle = "Bars represent estimated error",
y = "Weight",
x = "Estimate",
caption = "Source: CCHS 2017-2018 Data") +
theme_classic()
# plot more detailed regression table, including Odds Ratios
gtsummary::tbl_regression(cchs_logit, intercept = T)
library(xfun)
library(tidyverse)
library(gtsummary)
library(cowplot)
library(knitr)
library(bookdown)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
cchs %>% ggplot(aes(Age, fill = Age)) +
geom_bar() +
labs(title = "Figure 1: Distribution of Age Groups",
x = "Age Group", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs %>% ggplot(aes(Sex, fill = Sex)) +
geom_bar() +
labs(title = "Figure 2: Distribution of Sex",
x = "Sex", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_stress <- cchs %>%
filter(!is.na(Perceived_life_stress))
cchs_stress %>% ggplot(aes(Perceived_life_stress, fill = Perceived_life_stress)) +
geom_bar() +
labs(title = "Figure 3: Perceived Life Stress",
x = "Stress Level", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
theme(axis.text.x = element_text(size = 10, angle = 45, hjust = 1),
plot.title = element_text(size=12)) +
scale_fill_grey()
cchs_weight <- cchs %>%
filter(!is.na(Self_perceived_weight))
cchs_weight %>% ggplot(aes(Self_perceived_weight, fill = Self_perceived_weight)) +
geom_bar() +
labs(title = "Figure 4: Self Perceived Weight",
x = "Weight Category", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_drug <- cchs %>%
filter(!is.na(Illicit_drug_use_12mon))
cchs_weight %>% ggplot(aes(Illicit_drug_use_12mon, fill = Illicit_drug_use_12mon)) +
geom_bar() +
labs(title = "Figure 5: Drug Use (Last 12 Months)",
x = "Drug Use", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_phys <- cchs %>%
filter(!is.na(Weekly_Days_Physically_Active))
cchs_phys %>% ggplot(aes(Weekly_Days_Physically_Active, fill = Weekly_Days_Physically_Active)) +
geom_bar() +
labs(title = "Figure 6: Weekly Days Physically Active",
x = "Active Days in a Week", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Perceived_life_stress + Self_perceived_weight + Illicit_drug_use_12mon + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
# visualize the model in a table
logit_summary <- broom::tidy(cchs_logit, conf.int = T)
kable(logit_summary)
# get summary and plot coefficients with error bars
logit_summary %>% ggplot(aes(term, estimate)) + geom_point() +
geom_errorbar(aes(ymin = conf.low, ymax = conf.high),
width = .5, colour = "black") +
geom_hline(aes(yintercept = 0), color = "black", linetype = "dashed") +
coord_flip() +
labs(title = "Figure 8: Distribution of Estimation of Coefficients",
subtitle = "Bars represent estimated error",
y = "Weight",
x = "Estimate",
caption = "Source: CCHS 2017-2018 Data") +
theme_classic()
# plot more detailed regression table, including Odds Ratios
gtsummary::tbl_regression(cchs_logit, intercept = T)
library(tidyverse)
library(gtsummary)
library(knitr)
cchs <- read_csv("inputs/cchs.csv")
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
cchs %>% ggplot(aes(Age, fill = Age)) +
geom_bar() +
labs(title = "Figure 1: Distribution of Age Groups",
x = "Age Group", y = "Count",
caption = "Source: 2017-2018 CCHS") +
theme_classic() +
scale_fill_grey()
setwd("~/STA304/Final Project")
library(tidyverse)
library(gtsummary)
library(knitr)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
install.packages("tidyverse")
install.packages("gtsummary")
install.packages("knitr")
install.packages("tidyverse")
library(tidyverse)
library(gtsummary)
library(knitr)
cchs <- read_csv("inputs/cchs.csv")
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
#install.packages("tidyverse")
#install.packages("gtsummary")
#install.packages("knitr")
library(tidyverse)
library(gtsummary)
library(knitr)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
#install.packages("tidyverse")
#install.packages("gtsummary")
#install.packages("knitr")
library(tidyverse)
library(gtsummary)
library(knitr)
# read in cchs data through the Cleaning_Mental_Health_PS5 file in the inputs folder
cchs <- read_csv("inputs/cchs.csv")
# create new variable which for some we plan to use for the analysis, others were
# used to visualize the data for the reader
cchs <- cchs %>%
filter(Perceived_Mental_Health < 2)
cchs_logit <- glm(Perceived_Mental_Health ~ Age +
Sex + Illicit_drug_use_12mon + Perceived_life_stress + Self_perceived_weight + Weekly_Days_Physically_Active,
data = cchs, family = binomial())
knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)
install.packages('tinytex')
install.packages('tinytex')
install.packages("tinytex")
tinytex::install_tinytex()
install.packages("xfun")
library(xfun)
install.packages(c("backports", "brms", "broom", "callr", "cli", "clipr", "colorspace", "cpp11", "dbplyr", "digest", "DT", "future", "generics", "gh", "globals", "here", "htmlwidgets", "inline", "isoband", "jsonlite", "labeling", "loo", "lubridate", "magrittr", "pillar", "pkgbuild", "processx", "ps", "R6", "RcppEigen", "readr", "rlang", "rprojroot", "rstudioapi", "StanHeaders", "stringi", "testthat", "tibble", "usethis", "V8", "vctrs", "xfun"))
install.package("installr")
install.packages("installr")
library(installr)
updateR()
